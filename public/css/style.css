/* Hero custom styles */
:root {
  --primary: #1e3a8a; /* dark blue */
  --secondary: #3b82f6; /* bright blue */
  --text-on-dark: #ffffff;
  --bg-soft: #f8fafc; /* light gray */
  /* Fallback for dynamic navbar height (updated by NavHeightObserver) */
  --nav-h: 112px;
}

/* smooth fade-in keyframes */
@keyframes fadeInUp {
  0% { opacity: 0; transform: translateY(12px); }
  100% { opacity: 1; transform: translateY(0); }
}

.fade-in-0 { animation: fadeInUp .6s ease-out both; animation-delay: .05s; }
.fade-in-1 { animation: fadeInUp .7s ease-out both; animation-delay: .15s; }
.fade-in-2 { animation: fadeInUp .8s ease-out both; animation-delay: .25s; }
.fade-in-3 { animation: fadeInUp .9s ease-out both; animation-delay: .35s; }

.hero-gradient { /* blue overlay */
  background: linear-gradient(180deg, rgba(30,58,138,0.85) 0%, rgba(30,58,138,0.55) 30%, rgba(30,58,138,0.25) 60%, rgba(30,58,138,0) 100%);
}

/* slider dots */
.hero-dots { display: flex; align-items: center; gap: 8px; }
.hero-dot {
  width: 8px; height: 8px; border-radius: 9999px; background: rgba(255,255,255,0.5); transition: all .2s ease;
}
.hero-dot.active { width: 16px; background: var(--secondary); }

/* accessible focus for dots */
.hero-dot:focus-visible { outline: 2px solid #fff; outline-offset: 2px; }

/* scroll indicator */
.scroll-indicator { position: absolute; bottom: 18px; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; gap: 6px; color: #fff; }
.scroll-indicator .mouse {
  width: 24px; height: 38px; border: 2px solid rgba(255,255,255,.7); border-radius: 16px; position: relative;
}
.scroll-indicator .wheel {
  width: 3px; height: 8px; background: rgba(255,255,255,.8); border-radius: 2px; position: absolute; top: 6px; left: 50%; transform: translateX(-50%);
  animation: wheel 1.8s ease-in-out infinite;
}
@keyframes wheel {
  0% { transform: translate(-50%, 0); opacity: 1; }
  70% { transform: translate(-50%, 12px); opacity: .2; }
  100% { transform: translate(-50%, 0); opacity: 1; }
}

/* button hover subtle lift */
.btn-lift { transition: transform .15s ease, box-shadow .2s ease; }
.btn-lift:hover { transform: translateY(-1px); box-shadow: 0 8px 30px rgba(59,130,246,.25); }

/* --- Hero Slider transitions --- */
.hero-slide { position: absolute; inset: 0; opacity: 0; transition: opacity .8s ease; }
.hero-slide.active { opacity: 1; }

/* Ensure the container allows pointer events for dots but not for bg */
[aria-roledescription="carousel"] { pointer-events: none; }
[aria-roledescription="carousel"] .hero-dots, [aria-roledescription="carousel"] .hero-dots * { pointer-events: auto; }

/* Responsive adjustments */
@media (max-width: 640px) {
  .scroll-indicator { bottom: 12px; }
}

/* --- Services Cards --- */
.service-card { position: relative; overflow: hidden; }
.service-card { transition: transform .25s ease, box-shadow .3s ease; }
.service-card:hover { transform: translateY(-2px) scale(1.05); box-shadow: 0 18px 40px rgba(0,0,0,.22); }
.service-card:focus-within { outline: 2px solid rgba(59,130,246,.8); outline-offset: 3px; }
.service-card-lg { min-height: 260px; }
@media (min-width: 768px) {
  .service-card-lg { min-height: 280px; }
}
@media (min-width: 1024px) {
  .service-card-lg { min-height: 320px; }
}

/* background layer revealed on hover */
.service-bg-layer {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0;
  transition: opacity .3s ease;
}
.service-bg-layer::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.6);
  opacity: 0;
  transition: opacity .3s ease;
}
.group:hover .service-bg-layer { opacity: .45; }
.group:hover .service-bg-layer::after { opacity: .35; }

/* floating icon animation */
@keyframes floatY {
  0% { transform: translateY(0); }
  50% { transform: translateY(-2px); }
  100% { transform: translateY(0); }
}
.icon-float { animation: floatY 2.4s ease-in-out infinite; }

/* subtle pulse and slight rotation for icons */
@keyframes pulseScale {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.04); }
}
@keyframes rotateSmall {
  0% { transform: rotate(0deg); }
  50% { transform: rotate(1.2deg); }
  100% { transform: rotate(0deg); }
}

/* combine animations with staggered delays for variety */
.icon-anim {
  will-change: transform;
  animation: floatY 2.6s ease-in-out infinite, pulseScale 2.8s ease-in-out infinite, rotateSmall 3.2s ease-in-out infinite;
}
/* uniform staggered delays for variety */
.icon-delay-0 { animation-delay: 0s, 0s, 0s; }
.icon-delay-1 { animation-delay: .5s, .5s, .5s; }
.icon-delay-2 { animation-delay: 1s, 1s, 1s; }
.icon-delay-3 { animation-delay: 1.5s, 1.5s, 1.5s; }

/* --- Smooth in-page anchor targeting --- */
/* Any in-page anchor target within main accounts for sticky navbar height */
main [id] { scroll-margin-top: var(--nav-h); }

/* --- Reveal animations (AOS-like) --- */
[data-reveal] {
  opacity: 0;
  transform: translateY(14px);
  transition: opacity .5s ease, transform .5s ease;
}
[data-reveal].is-visible {
  opacity: 1;
  transform: none;
}
@media (prefers-reduced-motion: reduce) {
  [data-reveal] {
    opacity: 1 !important;
    transform: none !important;
    transition: none !important;
  }
}

/* --- Hero image zoom-out animation --- */
@keyframes heroZoomOut {
  from { transform: scale(1.06); }
  to { transform: scale(1); }
}

@media (prefers-reduced-motion: no-preference) {
  .animate-hero-zoom-out {
    animation: heroZoomOut 10s ease-out forwards;
    transform-origin: center center;
    will-change: transform;
  }
}
